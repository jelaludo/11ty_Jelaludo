{% import "partials/palette.njk" as palette %}

<div class="immersive-gallery">
    {% for image in gallery %}
    <section class="gallery-slide">
        <a
            class="gallery-slide__link"
            href="/gallery/{{ image.title | slug }}"
            aria-label="Open {{ image.title }}"
        >
            <div class="gallery-slide__media">
                {% img
                    src=image.src,
                    alt=image.alt,
                    className="gallery-slide__img",
                    sizes="100vw"
                %}
            </div>
            <div class="gallery-slide__meta">
                <h2>{{ image.title }}</h2>
                {% if image.date %}
                <p>{{ image.date }}</p>
                {% endif %}
            </div>
            {{ palette.render(image.palette, "gallery-slide__palette") }}
        </a>
    </section>
    {% endfor %}
</div>
